<!--
date: 2021-03-27T22:34:12+08:00
lastmod: 2021-04-09T22:34:12+08:00
-->
## 8种基本数据类型（Primitive Data Types）

|基本数据类型|占用字节数|占用位数|
|-:|-:|-:|
|byte|1|8|
|char|2|16|
|short|2|16|
|int|4|32|
|long|8|64|
|float|4|32|
|double|8|64|
|boolean|无明确规定具体大小|无明确规定具体大小|

一个字节能表示的最大无符号十进制整数是255（`0~255`），两个字节能表示的最大无符号十进制整数是65535（`0~65535`）。

byte是一个八位带符号的二进制补码整数，取值范围为`-128~127`。有符号整数在计算机中都是以补码形式存储，因为计算机只有加法没有减法，为了以更低成本计算出结果，所以用补码存储有符号整数。


boolean只有两个值：true和false，可以用1bit来存储，但是Java无法直接操作位，只能通过`Bitset`来间接操作。

* [Java Bitset类](https://www.runoob.com/java/java-bitset-class.html)

BitSet通过`set()`来设置对应下标的值为`1`，而`and()`、`or()`、`xor()`等方法可以提供位运算。需要注意的是，这些位运算方法并不是返回一个新new出来的BitSet对象，而是直接改变原本BitSet对象的值。

另外一个关于位运算的规律：

* a & b | b = b
* (a | b) & b = b
* a ^ a = 0

### char可以赋值为负数吗

char是无符号类型，如果赋值为负数，最终会转化为对应的正数。如下：
```java
final Character a = new Character((char) -1);
final Character b = new Character((char) 65535);
System.out.println(a.equals(b));    //true
System.out.println((char) -1 == (char) 65535);    //true
```

-1的补码是`1111 1111 1111 1111`，赋值给char后被当作无符号数处理，即65535。

## 包装类(Wrapper Classes)

每种基本数据类型都有对应的包装类型，二者之间的转换可以通过自动装箱和自动拆箱完成(Autoboxing and Unboxing)。

所有的包装类都是final的，都实现了Serializable接口。

|基本数据类型|包装类|
|-:|-:|
|byte|Byte|
|char|Character|
|short|Short|
|int|Integer|
|long|Long|
|float|Float|
|double|Double|
|boolean|Boolean|

```java
Integer a = 1;     // 装箱，调用了 Integer.valueOf(1)
int b = x;         // 拆箱，调用了 a.intValue()
```

### 为什么有基本数据类型了，还需要包装类？

* 基本数据类型之间的转换可以通过包装类来实现。
* Java是面向对象的语言，而基本数据类型不是对象类型。在一些场景中需要使用到对象类型，比如在集合中的元素就必须是对象类型。

## 缓存池

除了浮点数的包装类之外，其它包装类都有对应的缓存池或者缓存的设置。当基本数据类型在装箱时出于缓存池范围内，则会直接返回缓存中对应的包装类，而不是直接返回一个new出来的包装类。

这意味着缓存池范围内的基本数据类型，通过`valueOf()`获取的包装类对象一直都是同一个对象。

|包装类|缓存池|缓存池大小|
|-:|-:|-:|
|Byte|ByteCache|`-128~127`|
|Character|CharacterCache|`(char)0~(char)127`，即`\u0000 ~ \u007F`|
|Short|ShortCache|`-128~127`|
|Integer|IntegerCache|默认是`-128~127`，在jdk1.8种该最大值可以jvm启动参数`-XX:AutoBoxCacheMax=<size>`来指定|
|Long|LongCache|`-128~127`|
|Float|无|无|
|Double|无|无|
|Boolean|直接定义了两个静态常量Boolean：TRUE和FALSE|Boolean.TRUE和Boolean.FALSE|

## 参考链接

* [一、数据类型](http://cyc2018.gitee.io/cs-notes/#/notes/Java%20基础?id=%e4%b8%80%e3%80%81%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b)
* [JAVA中为什么要有包装类，作用是什么](https://zhidao.baidu.com/question/2052192149152534987.html)
