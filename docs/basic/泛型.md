<!--
date: 2021-04-19T22:34:12+08:00
lastmod: 2021-04-25T22:34:12+08:00
-->
## 泛型（Generic）

泛型：把类型明确的工作推迟到创建对象或调用方法时再明确的特殊类型。

参数化类型：把类型当作参数来传递，这意味着参数化类型不能是基本数据类型，需要用对应的包装类来代替。

相关术语：

* `ArrayList<E>`中的`E`是类型参数变量（typeVariable，也叫泛型参数）
* `ArrayList<Integer>`中的`Integer`称为实际类型参数，上面的`E`相当于形参，这里的`Integer`相当于实参
* `ArrayList<E>`整个被称为泛型类型（泛型类）
* `ArrayList<Integer>`整个被称为参数化的类型（ParameterizedType）

## 泛型的好处

* 泛型的本质是为了参数化类型，在不创建新类型的情况下，通过泛型指定的不同类型来限制形参的具体类型，以此提高代码的复用性。
* 安全性。泛型可以在编译时检测类型安全，避免在使用集合等场景时发生类转换异常ClassCastException。
* 代码更加简洁。泛型会进行隐式类型转换，比如在使用集合时，无需进行强制类型转换。比如遍历一个指定了泛型的集合时，就可以用增强for来进行遍历。

## 类型擦除

Java的泛型是伪泛型。泛型是提供给javac编译器使用的，在编译期间，所有的泛型信息会被擦除掉，生成的class文件中将不再带有泛型信息。

泛型只是在编译期生效，所以可以通过反射往一个泛型特性的集合中加入限制类型以外的元素。尽管存在着类型擦除，但如果一个类声明了类型参数变量，依然可以用反射`getTypeParameters()`来获取该类型变量。

Java是向前兼容的，泛型在Java5引入，需要兼容Java5之前的版本。

## 参考链接

* [九、泛型](http://cyc2018.gitee.io/cs-notes/#/notes/Java%20%E5%9F%BA%E7%A1%80?id=%e4%b9%9d%e3%80%81%e6%b3%9b%e5%9e%8b)
